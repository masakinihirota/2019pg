// sqrt版
bool IsPrime(int num)
{
    if (num < 2) return false;
    else if (num == 2) return true;
    else if (num % 2 == 0) return false; // 偶数はあらかじめ除く

    double sqrtNum = sqrt(num);
    for (int i = 3; i <= sqrtNum; i += 2)
    {
        if (num % i == 0)
        {
            // 素数ではない
            return false;
        }
    }

    // 素数である
    return true;
}

// 簡易版
bool is_prime(int num) {
    if (num < 2)
        return false;
    else if (num == 2)
        return true;
    else if (num % 2 == 0)
        return false;
    for (int i = 3; i < num; i += 2) {
        if (num % i == 0) {
            return false;
        }
    }
    return true;
}

#################
#include <math.h>

// i ~ N-1の範囲にNの約数が存在するか
bool has_divisor(ll N, int i) {
    // ベースケース1
    if (i == N - 1) {
        return (N % i == 0);
    }
    // ベースケース2
    if (N % i == 0) {
        // 実際にiはNの約数なので、i ~ N-1の範囲に約数が存在する
        return true;
    }

    // 再帰ステップ
    // i+1 ~ N-1の範囲の結果がi ~ N-1の範囲の結果となる
    // (ベースケース2によって、iがNの約数の場合は取り除かれているので、あとはi+1
    // ~ N-1の範囲を調べればよい)
    return has_divisor(N, i + 1);
}

// 5桁くらいまで それ以上はオーバーフロー
bool is_prime(ll N) {
    if (N == 1) {
        // 1は素数ではない
        return false;
    } else if (N == 2) {
        // 2は素数
        return true;
    } else {
        // 2~(N-1)の範囲に約数が無ければ、Nは素数
        return !has_divisor(N, 2);
    }
}
